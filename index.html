<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aravind â¤ï¸ Lavanya</title>
  <meta name="description" content="A vintage love letter proposal for Lavanya" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600&display=swap');
    :root{
      --paper:#f7efe3;
      --ink:#4b2e2b;
      --accent:#c45b5b;
      --gold:#c9a24d;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:'Dancing Script','Georgia',serif; color:var(--ink);
      background:radial-gradient(ellipse at top, #fff 0%, #f3e7d8 60%, #ead8c6 100%);
      overflow-x:hidden;
    }
    .page{min-height:100vh; display:none; padding:20px; animation:fade .6s ease}
    .page.active{display:block}
    @keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

    .paper{
      max-width:760px; margin:0 auto; background:var(--paper);
      padding:28px; border-radius:18px; box-shadow:0 20px 40px rgba(0,0,0,.12);
    }
    .center{text-align:center}
    .btn{padding:14px 22px;border-radius:14px;border:none;background:#c45b5b;color:#fff;font-family:inherit;font-size:18px;cursor:pointer;margin:6px}
    .divider{height:2px;background:linear-gradient(to right,transparent,var(--gold),transparent);margin:22px 0}
    .kavithai{font-size:22px;line-height:1.7}
    .print-note{font-size:14px;opacity:.7;text-align:center;margin-top:24px}

    #envelope{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#f3e7d8;z-index:10000}
    .env{width:260px;height:180px;background:#e2c7a2;border-radius:10px;position:relative;cursor:pointer}
    .env:before{content:'';position:absolute;inset:0;background:#d6b48a;clip-path:polygon(0 0,100% 0,50% 60%)}
    .env p{position:absolute;bottom:16px;width:100%;text-align:center;font-size:20px}

    .gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
    .gallery img{width:100%;border-radius:16px;box-shadow:0 8px 20px rgba(0,0,0,.15);cursor:pointer}

    #lightbox{position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;z-index:9000}
    #lightbox img{max-width:90%;border-radius:16px}

    .heart{position:fixed;bottom:-20px;font-size:22px;animation:float 6s linear forwards;pointer-events:none}
    @keyframes float{to{transform:translateY(-110vh);opacity:0}}

    #countdown{font-size:22px;margin:18px 0;color:#b44}

    @media print{
      body *{visibility:hidden}
      #printPage, #printPage *{visibility:visible}
      #printPage{position:absolute;left:0;top:0;width:100%}
      .btn{display:none}
    }
  </style>
</head>
<body>

<div id="envelope">
  <div class="env" onclick="openEnvelope()"><p>Tap to open ğŸ’Œ</p></div>
</div>

<!-- Background Music (GitHub Pages 416-safe) -->
<source src="https://cdn.jsdelivr.net/gh/Aravind1207/proposal@main/pookal-pookum-tharunam.mp3" type="audio/mpeg">

<div id="lock" style="position:fixed;inset:0;background:#f7efe3;display:none;align-items:center;justify-content:center;z-index:9000">
  <div class="paper center">
    <h2>Secret Question ğŸ”</h2>
    <p>In my mobile, under which name is your contact saved? â¤ï¸</p>
    <input id="pass" placeholder="Enter the name" style="padding:12px;border-radius:12px;border:1px solid #b44;font-size:18px" />
    <div style="margin-top:14px"><button class="btn" onclick="unlock()">Unlock ğŸ’Œ</button></div>
  </div>
</div>

<section class="page active" id="p1">
  <div class="paper center">
    <h1>My Dearest Lavanya â¤ï¸</h1>
    <div class="divider"></div>
    <p class="kavithai">This is not just a websiteâ€¦<br/>This is my heart written for you.</p>
    <button class="btn" onclick="go('p2')">Continue âœ</button>
  </div>
</section>

<section class="page" id="p2">
  <div class="paper">
    <h2 class="center">Our Memories ğŸ’</h2>
    <div class="divider"></div>
    <div class="gallery">
      <img src="images/1.jpg" onclick="openImg(this.src)" />
      <img src="images/2.jpg" onclick="openImg(this.src)" />
      <img src="images/3.jpg" onclick="openImg(this.src)" />
      <img src="images/4.jpg" onclick="openImg(this.src)" />
    </div>
    <div class="center" style="margin-top:24px"><button class="btn" onclick="go('p3')">Next âœ</button></div>
  </div>
</section>

<section class="page" id="p3">
  <div class="paper">
    <h2 class="center">Just a Few Questions ğŸ˜„</h2>
    <div class="divider"></div>
    <p class="kavithai center">How much do you love me? ğŸ’•</p>
    <div class="center">
      <button class="btn" onclick="loveAnswer('Sea')">Sea ğŸŒŠ</button>
      <button class="btn" onclick="loveAnswer('Sky')">Sky ğŸŒŒ</button>
      <button class="btn" onclick="loveAnswer('Both')">Both ğŸ˜Œ</button>
    </div>
    <p id="loveMsg" class="center"></p>
    <p class="kavithai center">You need a crab bite right? ğŸ¦€ğŸ˜„</p>
    <div class="center"><button class="btn" onclick="crabAnswer()">Yes ğŸ˜„</button></div>
    <p id="crabMsg" class="center"></p>
    <div class="center"><button class="btn" onclick="go('p4')">Next âœ</button></div>
  </div>
</section>

<section class="page" id="p4">
  <div class="paper center">
    <h2>Will you marry me? ğŸ’</h2>
    <div id="countdown"></div>
    <button class="btn" onclick="sayYes()">YES â¤ï¸</button>
    <div id="flames" style="display:none;font-size:26px">ğŸ”¥ Aravind & Lavanya ğŸ”¥</div>
  </div>
</section>

<section class="page" id="printPage">
  <div class="paper">
    <h2 class="center">A Letter Forever ğŸ’Œ</h2>
    <p class="kavithai">à®‰à®©à¯ à®šà®¿à®°à®¿à®ªà¯à®ªà®¿à®²à¯ à®†à®°à®®à¯à®ªà®¿à®•à¯à®•à¯à®®à¯ à®à®©à¯ à®•à®¾à®²à¯ˆ...<br/>à®‰à®©à¯ à®ªà¯†à®¯à®°à®¿à®²à¯ à®®à¯à®Ÿà®¿à®¯à¯à®®à¯ à®à®©à¯ à®‡à®°à®µà¯...<br/>à®‡à®¨à¯à®¤ à®œà¯†à®©à¯à®®à®¤à¯à®¤à®¿à®²à¯ à®®à®Ÿà¯à®Ÿà¯à®®à¯ à®‡à®²à¯à®²à¯ˆ, à®à®²à¯à®²à®¾ à®œà¯†à®©à¯à®®à®™à¯à®•à®³à®¿à®²à¯à®®à¯ â€”<br/><b>à®¨à¯€ à®¤à®¾à®©à¯ à®à®©à¯ à®µà®¾à®´à¯à®•à¯à®•à¯ˆ à®¤à¯à®£à¯ˆ, Lavanya â¤ï¸</b></p>
    <p class="center"><b>Forever yours,<br/>Aravind â¤ï¸</b></p>
    <p class="print-note">14.02.2025</p>
    <div class="center"><button class="btn" onclick="window.print()">Save as PDF ğŸ–¨ï¸</button></div>
  </div>
</section>

<div id="lightbox" onclick="this.style.display='none'"><img /></div>

<script>
document.addEventListener('DOMContentLoaded',()=>{

  window.openEnvelope=()=>{
    document.getElementById('envelope').style.display='none';
    document.getElementById('lock').style.display='flex';
  };

  window.unlock=()=>{
    if(document.getElementById('pass').value.trim().toLowerCase()==='mine'){
      document.getElementById('lock').style.display='none';
      go('p1');

      const m = document.getElementById('bgm');
      if(m){
        m.currentTime = 0;
        m.volume = 0.4; // safe start volume
        m.play().catch(()=>{});
      }
      startCountdown();
    } else {
      alert('Almost ğŸ˜„');
    }
  };

  function fadeIn(m){
    let v = 0;
    m.volume = 0;
    const i = setInterval(() => {
      v += 0.05;
      m.volume = Math.min(v, 1);
      if (v >= 1) clearInterval(i);
    }, 80);
  }

  window.addEventListener('beforeprint', () => {
    const m = document.getElementById('bgm');
    if (m) m.pause();
  });

  window.addEventListener('afterprint', () => {
    const m = document.getElementById('bgm');
    if (m) m.play();
  });

  window.go=(id)=>{
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo(0,0);
  };

  window.loveAnswer=(a)=>{
    document.getElementById('loveMsg').textContent = a==='Both' ? 'Correct answer ğŸ˜Œâ¤ï¸' : 'Think bigger ğŸ˜„';
  };

  window.crabAnswer=()=>{
    document.getElementById('crabMsg').textContent='Only for you ğŸ¦€â¤ï¸';
  };

  window.sayYes=()=>{
    const m = document.getElementById('bgm');
    // Romantic volume swell at YES moment
    if(m){
      let v = m.volume || 0.4;
      const boost = setInterval(()=>{
        v += 0.05;
        m.volume = Math.min(v, 1);
        if(v >= 1) clearInterval(boost);
      }, 120);
    }

    document.getElementById('flames').style.display='block';
    for(let i=0;i<20;i++) spawnHeart();
    setTimeout(()=>go('printPage'),1200);
  };

  function spawnHeart(){
    const h=document.createElement('div');
    h.className='heart';
    h.textContent='â¤ï¸';
    h.style.left=Math.random()*100+'vw';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),6000);
  }

  function startCountdown(){
    const el=document.getElementById('countdown');
    const end=new Date('2025-02-14T19:00:00').getTime();
    setInterval(()=>{
      const d=end-Date.now();
      el.textContent = d<=0 ? 'This moment is forever ğŸ’' : `${Math.floor(d/86400000)}d ${Math.floor((d%86400000)/3600000)}h ${Math.floor((d%3600000)/60000)}m`;
    },1000);
  }

  window.openImg=(s)=>{
    const lb=document.getElementById('lightbox');
    lb.style.display='flex';
    lb.querySelector('img').src=s;
  };

});
</script>
</body>
</html>
